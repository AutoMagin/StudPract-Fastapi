{"ast":null,"code":"// frontend/src/components/Home.js\nimport React,{useEffect,useState}from'react';import{postService}from'../services/postService';import{useLoading}from'../contexts/LoadingContext';import{Typography,Box}from'@mui/material';import Post from'./Post';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export function Home(){const[posts,setPosts]=useState([]);const[error,setError]=useState(null);const{setLoading}=useLoading();useEffect(()=>{setLoading(true);postService.getPosts().then(response=>{setPosts(response);setLoading(false);}).catch(err=>{var _err$response,_err$response2,_err$response3,_err$response3$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401?'Необходима авторизация':((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===404?'Посты не найдены':((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.detail)||err.message||'Произошла ошибка при загрузке постов');setLoading(false);});},[setLoading]);if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \",error]});return/*#__PURE__*/_jsxs(Box,{className:\"container\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"\\u041F\\u043E\\u0441\\u0442\\u044B\"}),posts.length===0?/*#__PURE__*/_jsx(Typography,{children:\"\\u041D\\u0435\\u0442 \\u043F\\u043E\\u0441\\u0442\\u043E\\u0432\"}):posts.map(post=>/*#__PURE__*/_jsx(Post,{post:post,className:\"post\"},post.id))]});}","map":{"version":3,"names":["React","useEffect","useState","postService","useLoading","Typography","Box","Post","jsxs","_jsxs","jsx","_jsx","Home","posts","setPosts","error","setError","setLoading","getPosts","then","response","catch","err","_err$response","_err$response2","_err$response3","_err$response3$data","status","data","detail","message","className","children","variant","gutterBottom","length","map","post","id"],"sources":["C:/Users/zo-al/Desktop/studa_practe/frontend/src/components/Home.js"],"sourcesContent":["// frontend/src/components/Home.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { postService } from '../services/postService';\r\nimport { useLoading } from '../contexts/LoadingContext';\r\nimport { Typography, Box } from '@mui/material';\r\nimport Post from './Post';\r\n\r\nexport function Home() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const { setLoading } = useLoading();\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    postService\r\n      .getPosts()\r\n      .then((response) => {\r\n        setPosts(response);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setError(\r\n          err.response?.status === 401\r\n            ? 'Необходима авторизация'\r\n            : err.response?.status === 404\r\n            ? 'Посты не найдены'\r\n            : err.response?.data?.detail || err.message || 'Произошла ошибка при загрузке постов'\r\n        );\r\n        setLoading(false);\r\n      });\r\n  }, [setLoading]);\r\n\r\n  if (error) return <div className=\"error\">Ошибка: {error}</div>;\r\n\r\n  return (\r\n    <Box className=\"container\">\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Посты\r\n      </Typography>\r\n      {posts.length === 0 ? (\r\n        <Typography>Нет постов</Typography>\r\n      ) : (\r\n        posts.map((post) => <Post key={post.id} post={post} className=\"post\" />)\r\n      )}\r\n    </Box>\r\n  );\r\n}"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,UAAU,KAAQ,4BAA4B,CACvD,OAASC,UAAU,CAAEC,GAAG,KAAQ,eAAe,CAC/C,MAAO,CAAAC,IAAI,KAAM,QAAQ,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE1B,MAAO,SAAS,CAAAC,IAAIA,CAAA,CAAG,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAEe,UAAW,CAAC,CAAGb,UAAU,CAAC,CAAC,CAEnCH,SAAS,CAAC,IAAM,CACdgB,UAAU,CAAC,IAAI,CAAC,CAChBd,WAAW,CACRe,QAAQ,CAAC,CAAC,CACVC,IAAI,CAAEC,QAAQ,EAAK,CAClBN,QAAQ,CAACM,QAAQ,CAAC,CAClBH,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDI,KAAK,CAAEC,GAAG,EAAK,KAAAC,aAAA,CAAAC,cAAA,CAAAC,cAAA,CAAAC,mBAAA,CACdV,QAAQ,CACN,EAAAO,aAAA,CAAAD,GAAG,CAACF,QAAQ,UAAAG,aAAA,iBAAZA,aAAA,CAAcI,MAAM,IAAK,GAAG,CACxB,wBAAwB,CACxB,EAAAH,cAAA,CAAAF,GAAG,CAACF,QAAQ,UAAAI,cAAA,iBAAZA,cAAA,CAAcG,MAAM,IAAK,GAAG,CAC5B,kBAAkB,CAClB,EAAAF,cAAA,CAAAH,GAAG,CAACF,QAAQ,UAAAK,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAcG,IAAI,UAAAF,mBAAA,iBAAlBA,mBAAA,CAAoBG,MAAM,GAAIP,GAAG,CAACQ,OAAO,EAAI,sCACnD,CAAC,CACDb,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,GAAIF,KAAK,CAAE,mBAAON,KAAA,QAAKsB,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAC,wCAAQ,CAACjB,KAAK,EAAM,CAAC,CAE9D,mBACEN,KAAA,CAACH,GAAG,EAACyB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrB,IAAA,CAACN,UAAU,EAAC4B,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,gCAEtC,CAAY,CAAC,CACZnB,KAAK,CAACsB,MAAM,GAAK,CAAC,cACjBxB,IAAA,CAACN,UAAU,EAAA2B,QAAA,CAAC,yDAAU,CAAY,CAAC,CAEnCnB,KAAK,CAACuB,GAAG,CAAEC,IAAI,eAAK1B,IAAA,CAACJ,IAAI,EAAe8B,IAAI,CAAEA,IAAK,CAACN,SAAS,CAAC,MAAM,EAArCM,IAAI,CAACC,EAAkC,CAAC,CACxE,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}