{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zo-al\\\\Desktop\\\\studa_practe\\\\frontend\\\\src\\\\components\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { AuthContext } from '../contexts/AuthContext';\nimport { userService } from '../services/userService';\nimport { postService } from '../services/postService';\nimport { useLoading } from '../contexts/LoadingContext';\nimport { Typography, Box, TextField, Button, List, ListItem, ListItemText } from '@mui/material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Profile() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [profileUser, setProfileUser] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [newPostContent, setNewPostContent] = useState('');\n  const [error, setError] = useState(null);\n  const {\n    setLoading\n  } = useLoading();\n  useEffect(() => {\n    if (id) {\n      setLoading(true);\n      userService.get(id).then(response => {\n        setProfileUser(response);\n        return postService.getPostsByUser(id);\n      }).then(postsResponse => {\n        setPosts(postsResponse);\n        setLoading(false);\n      }).catch(err => {\n        setError(err.message);\n        setLoading(false);\n      });\n    }\n  }, [id, setLoading]);\n  const handleCreatePost = async e => {\n    e.preventDefault();\n    if (!newPostContent) {\n      setError('Post content cannot be empty');\n      return;\n    }\n    try {\n      const newPost = await postService.createPost(id, {\n        content: newPostContent\n      });\n      setPosts([...posts, newPost]);\n      setNewPostContent('');\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), profileUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"ID:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 39\n        }, this), \" \", profileUser.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 39\n        }, this), \" \", profileUser.name || 'N/A']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Login:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 39\n        }, this), \" \", profileUser.login || 'N/A']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        style: {\n          marginTop: '2rem'\n        },\n        children: \"Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: posts.map(post => /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: post.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this)\n        }, post.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), user && user.id === parseInt(id) && /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: handleCreatePost,\n        style: {\n          marginTop: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"New Post\",\n          value: newPostContent,\n          onChange: e => setNewPostContent(e.target.value),\n          fullWidth: true,\n          margin: \"normal\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Create Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      children: \"No user found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"5LTJfwjFjFj3ADj7fwd07MRp/YQ=\", false, function () {\n  return [useParams, useLoading];\n});\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","AuthContext","userService","postService","useLoading","Typography","Box","TextField","Button","List","ListItem","ListItemText","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","id","user","profileUser","setProfileUser","posts","setPosts","newPostContent","setNewPostContent","error","setError","setLoading","get","then","response","getPostsByUser","postsResponse","catch","err","message","handleCreatePost","e","preventDefault","newPost","createPost","content","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","name","login","style","marginTop","map","post","primary","parseInt","component","onSubmit","label","value","onChange","target","fullWidth","margin","required","type","color","_c","$RefreshReg$"],"sources":["C:/Users/zo-al/Desktop/studa_practe/frontend/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport { userService } from '../services/userService';\r\nimport { postService } from '../services/postService';\r\nimport { useLoading } from '../contexts/LoadingContext';\r\nimport { Typography, Box, TextField, Button, List, ListItem, ListItemText } from '@mui/material';\r\n\r\nexport function Profile() {\r\n  const { id } = useParams();\r\n  const { user } = useContext(AuthContext);\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [posts, setPosts] = useState([]);\r\n  const [newPostContent, setNewPostContent] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const { setLoading } = useLoading();\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      setLoading(true);\r\n      userService\r\n        .get(id)\r\n        .then((response) => {\r\n          setProfileUser(response);\r\n          return postService.getPostsByUser(id);\r\n        })\r\n        .then((postsResponse) => {\r\n          setPosts(postsResponse);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          setError(err.message);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [id, setLoading]);\r\n\r\n  const handleCreatePost = async (e) => {\r\n    e.preventDefault();\r\n    if (!newPostContent) {\r\n      setError('Post content cannot be empty');\r\n      return;\r\n    }\r\n    try {\r\n      const newPost = await postService.createPost(id, { content: newPostContent });\r\n      setPosts([...posts, newPost]);\r\n      setNewPostContent('');\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  if (error) return <div className=\"error\">Error: {error}</div>;\r\n\r\n  return (\r\n    <Box className=\"profile\">\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Profile\r\n      </Typography>\r\n      {profileUser ? (\r\n        <>\r\n          <Typography variant=\"body1\"><strong>ID:</strong> {profileUser.id}</Typography>\r\n          <Typography variant=\"body1\"><strong>Name:</strong> {profileUser.name || 'N/A'}</Typography>\r\n          <Typography variant=\"body1\"><strong>Login:</strong> {profileUser.login || 'N/A'}</Typography>\r\n\r\n          <Typography variant=\"h5\" gutterBottom style={{ marginTop: '2rem' }}>\r\n            Posts\r\n          </Typography>\r\n          <List>\r\n            {posts.map((post) => (\r\n              <ListItem key={post.id}>\r\n                <ListItemText primary={post.content} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n\r\n          {user && user.id === parseInt(id) && (\r\n            <Box component=\"form\" onSubmit={handleCreatePost} style={{ marginTop: '1rem' }}>\r\n              <TextField\r\n                label=\"New Post\"\r\n                value={newPostContent}\r\n                onChange={(e) => setNewPostContent(e.target.value)}\r\n                fullWidth\r\n                margin=\"normal\"\r\n                required\r\n              />\r\n              <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                Create Post\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Typography variant=\"body1\">No user found</Typography>\r\n      )}\r\n    </Box>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}